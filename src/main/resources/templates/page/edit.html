<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<div th:replace="fragments/head"></div>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

  <!-- Sidebar -->
  <div th:replace="fragments/sidebar"></div>
  <!-- End of Sidebar -->

  <!-- Content Wrapper -->
  <div id="content-wrapper" class="d-flex flex-column">

    <!-- Main Content -->
    <div id="content">

      <!-- Topbar -->
      <div th:replace="fragments/topbar"></div>
      <!-- End of Topbar -->

      <!-- Begin Page Content -->
      <div class="container-fluid">

        <!-- Page Heading -->
        <h1 class="h3 mb-4 text-gray-800">Sửa Trang</h1>

        <!-- Form Card -->
        <div class="card shadow mb-4">
          <div class="card-body">
            <form th:action="@{|/pages/edit/${page.id}|}" method="post">
              <div class="form-group">
                <label for="title">Tên trang</label>
                <input type="text" id="title" name="title" th:value="${page.title}" class="form-control" required />
              </div>

              <div class="form-group">
                <label for="content">Nội dung</label>
                <textarea id="content" name="content" class="form-control" rows="6" required
                          th:text="${page.content}"></textarea>
              </div>

              <button type="submit" class="btn btn-primary">Cập nhật</button>
            </form>
          </div>
        </div>

      </div>
      <!-- /.container-fluid -->

    </div>
    <!-- End of Main Content -->

    <!-- Footer -->
    <div th:replace="fragments/footer"></div>
    <!-- End of Footer -->

  </div>
  <!-- End of Content Wrapper -->

</div>
<!-- End of Page Wrapper -->

<!-- Thông báo thành công -->
<div th:if="${success}"
     class="alert alert-success"
     style="position: fixed; top: 100px; right: 20px; z-index: 1050; min-width: 250px; box-shadow: 0 0 10px rgba(0,0,0,0.3);"
     th:text="${success}">
</div>

<script>
    setTimeout(() => {
        const alert = document.querySelector('.alert');
        if (alert) alert.style.display = 'none';
    }, 3000);
</script>

</body>
</html>