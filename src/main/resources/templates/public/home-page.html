<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head"></head>
<body class="bg-light">

<div th:replace="fragments/public-navbar"></div>

<div class="container-fluid pl-0">
    <div class="row">
        <nav class="col-md-2 d-none d-md-block bg-light sidebar" th:replace="fragments/public-sidebar"></nav>

        <main class="col-md-10 px-md-5 py-4">
            <div class="row gx-4 gy-4 mt-3">
                <div class="col-md-3">
                    <h4 class="mb-3 fw-bold">Bài viết khác</h4>
                    <div th:if="${subNewsList != null}">
                        <div class="d-flex flex-column" th:each="news : ${subNewsList}" th:if="${news.status == 'Approved'}">
                            <div class="d-flex p-2">
                                <img th:src="@{${news.postImage}}" style="width: 70px; height: 50px; object-fit: cover;" class="rounded me-2" alt="Ảnh nhỏ">
                                <a th:href="@{/post/{id}(id=${news.postId})}" class="text-dark fw-medium small flex-grow-1 pl-2 pt-1"
                                   th:text="${news.postTitle}">Tiêu đề</a>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <h4 class="mb-3 fw-bold">Bài viết mới</h4>
                    <div th:if="${firstNews != null}" class="card border-0 shadow-sm rounded p-2 bg-white">
                        <img th:src="@{${firstNews.postImage}}" class="card-img-top rounded img-fluid"
                             style="width: 100%; height: 333px; object-fit: cover;" alt="Ảnh tin tức">
                        <div class="card-body px-0">
                            <a th:href="@{/post/{id}(id=${firstNews.postId})}"
                               class="fw-semibold fs-5 text-primary d-block mt-2"
                               th:text="${firstNews.postTitle}">Tiêu đề</a>
                            <p th:text="${firstNews.summary}">Tóm tắt</p>
                        </div>
                    </div>
                </div>

                <div class="col-md-3">
                    <h4 class="mb-3 fw-bold">Thông báo</h4>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item px-0 py-2" th:each="noti : ${notificationList}">
                            <a th:href="@{/notice/{id}(id=${noti.id})}" class="d-flex justify-content-between align-items-start text-dark small">
                                <span th:text="${noti.title}">Tiêu đề TB</span>
                                <span class="text-danger ms-2" th:text="${#temporals.format(noti.date, 'dd/MM/yyyy')}">[dd/MM/yyyy]</span>
                            </a>
                        </li>
                    </ul>
                </div>

            </div>
        </main>
    </div>
</div>

<!-- Footer -->
<div th:replace="fragments/footer"></div>

</body>
</html>
